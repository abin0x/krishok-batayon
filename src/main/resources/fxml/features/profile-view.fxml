<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.demo1.app.controller.ProfileController"
      spacing="16"
      styleClass="content-page"
      style="-fx-background-color: linear-gradient(to bottom, #f7fbf7, #edf7ef);">

    <padding><Insets top="20" right="22" bottom="22" left="22"/></padding>

    <VBox spacing="8"
          style="-fx-background-color: linear-gradient(to right, #14532d, #166534); -fx-background-radius: 16; -fx-padding: 18; -fx-effect: dropshadow(three-pass-box, rgba(20,83,45,0.25), 18, 0, 0, 5);">
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="প্রোফাইল ড্যাশবোর্ড" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: 800;"/>
        </HBox>
        <Label text="ব্যক্তিগত তথ্য, লোকেশন ও কৃষি প্রোফাইল আপডেট করুন"
               style="-fx-text-fill: #dcfce7; -fx-font-size: 13; -fx-font-weight: 600;"/>
    </VBox>

    <HBox spacing="16" alignment="TOP_LEFT">
        <VBox prefWidth="290" minWidth="270" spacing="12"
              style="-fx-background-color: white; -fx-background-radius: 14; -fx-padding: 16; -fx-border-color: #d8e5db; -fx-border-width: 1; -fx-border-radius: 14; -fx-effect: dropshadow(three-pass-box, rgba(15,23,42,0.06), 10, 0, 0, 2);">
            <VBox alignment="CENTER" spacing="8">
                <ImageView fx:id="profileImageView" fitWidth="110" fitHeight="110" preserveRatio="true"
                           style="-fx-border-color: #9bc9a8; -fx-border-width: 2; -fx-border-radius: 999; -fx-background-radius: 999; -fx-background-color: #ecfdf3;"/>
                <Button text="ছবি আপলোড" onAction="#handleUploadPicture"
                        style="-fx-background-color: #166534; -fx-text-fill: white; -fx-font-weight: 700; -fx-background-radius: 9; -fx-cursor: hand;"/>
            </VBox>

            <VBox spacing="4" alignment="CENTER_LEFT">
                <Label fx:id="lblUsernameInitial" text="User Name" style="-fx-font-size: 21; -fx-font-weight: 800; -fx-text-fill: #14532d;"/>
                <Label text="কৃষক প্রোফাইল" style="-fx-text-fill: #64748b; -fx-font-size: 12.5;"/>
            </VBox>

            <Separator/>

            <VBox spacing="6">
                <HBox alignment="CENTER_LEFT" spacing="8">
                    <Label text="প্রোফাইল সম্পন্ন" style="-fx-font-size: 13; -fx-font-weight: 700; -fx-text-fill: #14532d;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="lblCompletionPct" text="0%" style="-fx-font-size: 13; -fx-font-weight: 800; -fx-text-fill: #166534;"/>
                </HBox>
                <ProgressBar fx:id="profileCompletionBar" progress="0" maxWidth="Infinity" style="-fx-accent: #16a34a;"/>
                <Label fx:id="lblLastSaved" text="শেষ আপডেট: --" style="-fx-text-fill: #64748b; -fx-font-size: 11.5;"/>
            </VBox>

            <Separator/>

            <VBox spacing="6">
                <Label text="Quick Actions" style="-fx-font-size: 14; -fx-font-weight: 800; -fx-text-fill: #14532d;"/>
                <Button text="তথ্য সংরক্ষণ" onAction="#handleSaveProfile" maxWidth="Infinity"
                        style="-fx-background-color: linear-gradient(to right, #166534, #22c55e); -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 10; -fx-cursor: hand;"/>
                <Button text="লগআউট" onAction="#handleLogout" maxWidth="Infinity"
                        style="-fx-background-color: #fef2f2; -fx-text-fill: #b91c1c; -fx-font-weight: 700; -fx-background-radius: 10; -fx-cursor: hand;"/>
            </VBox>
        </VBox>

        <VBox spacing="12" HBox.hgrow="ALWAYS">
            <VBox spacing="12"
                  style="-fx-background-color: white; -fx-background-radius: 14; -fx-padding: 16; -fx-border-color: #d8e5db; -fx-border-width: 1; -fx-border-radius: 14; -fx-effect: dropshadow(three-pass-box, rgba(15,23,42,0.06), 10, 0, 0, 2);">
                <Label text="ব্যক্তিগত তথ্য" style="-fx-font-size: 16; -fx-font-weight: 800; -fx-text-fill: #14532d;"/>
                <GridPane hgap="18" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>

                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="কৃষকের নাম" style="-fx-font-weight: 700;"/>
                        <TextField fx:id="txtName" promptText="আপনার নাম লিখুন" style="-fx-background-radius: 10; -fx-border-radius: 10;"/>
                    </VBox>

                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="ফোন নম্বর" style="-fx-font-weight: 700;"/>
                        <TextField fx:id="txtPhone" promptText="+880..." style="-fx-background-radius: 10; -fx-border-radius: 10;"/>
                    </VBox>
                </GridPane>
            </VBox>

            <VBox spacing="12"
                  style="-fx-background-color: white; -fx-background-radius: 14; -fx-padding: 16; -fx-border-color: #d8e5db; -fx-border-width: 1; -fx-border-radius: 14; -fx-effect: dropshadow(three-pass-box, rgba(15,23,42,0.06), 10, 0, 0, 2);">
                <Label text="লোকেশন তথ্য" style="-fx-font-size: 16; -fx-font-weight: 800; -fx-text-fill: #14532d;"/>

                <GridPane hgap="18" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>

                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="বিভাগ" style="-fx-font-weight: 700;"/>
                        <ComboBox fx:id="cmbDivision" promptText="বিভাগ নির্বাচন করুন" maxWidth="Infinity" style="-fx-background-radius: 10;"/>
                    </VBox>

                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="জেলা" style="-fx-font-weight: 700;"/>
                        <ComboBox fx:id="cmbDistrict" promptText="জেলা নির্বাচন করুন" maxWidth="Infinity" style="-fx-background-radius: 10;"/>
                    </VBox>

                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                        <Label text="উপজেলা" style="-fx-font-weight: 700;"/>
                        <ComboBox fx:id="cmbUpazila" promptText="উপজেলা নির্বাচন করুন" maxWidth="Infinity" style="-fx-background-radius: 10;"/>
                    </VBox>
                </GridPane>
            </VBox>

            <VBox spacing="12"
                  style="-fx-background-color: white; -fx-background-radius: 14; -fx-padding: 16; -fx-border-color: #d8e5db; -fx-border-width: 1; -fx-border-radius: 14; -fx-effect: dropshadow(three-pass-box, rgba(15,23,42,0.06), 10, 0, 0, 2);">
                <Label text="খামার তথ্য" style="-fx-font-size: 16; -fx-font-weight: 800; -fx-text-fill: #14532d;"/>

                <GridPane hgap="18" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="50"/>
                        <ColumnConstraints percentWidth="50"/>
                    </columnConstraints>

                    <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                        <Label text="জমির পরিমাণ (একর)" style="-fx-font-weight: 700;"/>
                        <TextField fx:id="txtLandAmount" promptText="যেমন: ২.৫" style="-fx-background-radius: 10; -fx-border-radius: 10;"/>
                    </VBox>

                    <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <Label text="মাটির ধরন" style="-fx-font-weight: 700;"/>
                        <ComboBox fx:id="cmbSoilType" promptText="দোআঁশ" maxWidth="Infinity" style="-fx-background-radius: 10;"/>
                    </VBox>
                </GridPane>

                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 4 0 0 0;">
                    <Button text="তথ্য সংরক্ষণ করুন" onAction="#handleSaveProfile"
                            style="-fx-background-color: linear-gradient(to right, #166534, #22c55e); -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 10; -fx-padding: 10 16; -fx-cursor: hand;"/>
                    <Button text="লগআউট" onAction="#handleLogout"
                            style="-fx-background-color: #fef2f2; -fx-text-fill: #b91c1c; -fx-font-weight: 700; -fx-background-radius: 10; -fx-padding: 10 14; -fx-cursor: hand;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                </HBox>
            </VBox>
        </VBox>
    </HBox>
</VBox>
